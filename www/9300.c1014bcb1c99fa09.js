"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9300],{8068:(N,Z,u)=>{u.r(Z),u.d(Z,{UserDetailsPageModule:()=>y});var g=u(6895),s=u(4006),a=u(9267),d=u(8996),e=u(4650),v=u(410);const D=["photoContainer"],T=function(n){return{rounded:n}};function U(n,l){if(1&n&&e._UZ(0,"img",11),2&n){const t=e.oxw(2);e.Q6J("src",t.profilePhoto,e.LSH)("ngClass",e.VKq(2,T,t.profilePhoto))}}function w(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"label",12)(1,"input",13),e.NdJ("change",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onFileSelected(o))}),e.qZA(),e._uU(2," Choose Photo* "),e.qZA()}}function P(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"label",14)(1,"input",13),e.NdJ("change",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onFileSelected(o))}),e.qZA(),e._uU(2," Change Photo "),e.qZA()}}function C(n,l){if(1&n&&(e.TgZ(0,"ion-row",5)(1,"ion-col")(2,"div",6)(3,"div",7),e.YNc(4,U,1,4,"img",8),e.YNc(5,w,3,0,"label",9),e.qZA(),e.YNc(6,P,3,0,"label",10),e.qZA()()()),2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",t.profilePhoto),e.xp6(1),e.Q6J("ngIf",!t.profilePhoto),e.xp6(1),e.Q6J("ngIf",t.profilePhoto)}}function A(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",15)(1,"ion-card",16)(2,"ion-item")(3,"ion-label",17),e._uU(4,"Name*"),e.qZA(),e._UZ(5,"ion-input",18),e.qZA()(),e.TgZ(6,"ion-card",16)(7,"ion-item")(8,"ion-label",17),e._uU(9,"Email*"),e.qZA(),e._UZ(10,"ion-input",19),e.qZA()(),e.TgZ(11,"ion-card",16)(12,"ion-item")(13,"ion-label",17),e._uU(14,"Mobile*"),e.qZA(),e._UZ(15,"ion-input",20),e.qZA()(),e.TgZ(16,"ion-row")(17,"ion-col",21),e._UZ(18,"ion-toggle",22),e.TgZ(19,"ion-text"),e._uU(20," Deactivate toggle to hide phone number "),e.qZA()()(),e.TgZ(21,"ion-card",16)(22,"ion-item")(23,"ion-label",17),e._uU(24,"City*"),e.qZA(),e._UZ(25,"ion-input",23),e.qZA()(),e.TgZ(26,"ion-row")(27,"ion-label",24),e._UZ(28,"ion-icon",25),e.qZA(),e.TgZ(29,"ion-col")(30,"ion-text",26),e._uU(31,"Gender*"),e.qZA()()(),e.TgZ(32,"ion-row")(33,"ion-col")(34,"ion-button",27),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onClickTab("gender","anyone"))}),e._uU(35,"Other"),e.qZA(),e.TgZ(36,"ion-button",27),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onClickTab("gender","male"))}),e._uU(37,"Male"),e.qZA(),e.TgZ(38,"ion-button",27),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onClickTab("gender","female"))}),e._uU(39,"Female"),e.qZA()()(),e.TgZ(40,"ion-row")(41,"ion-label",24),e._UZ(42,"ion-icon",25),e.qZA(),e.TgZ(43,"ion-col")(44,"ion-text",26),e._uU(45,"Age*"),e.qZA()()(),e.TgZ(46,"ion-row")(47,"ion-col")(48,"ion-button",27),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onClickTab("age","18-24"))}),e._uU(49,"18-24"),e.qZA(),e.TgZ(50,"ion-button",27),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onClickTab("age","25-32"))}),e._uU(51,"25-32"),e.qZA(),e.TgZ(52,"ion-button",27),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onClickTab("age","33-40"))}),e._uU(53,"33-40"),e.qZA(),e.TgZ(54,"ion-button",27),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onClickTab("age","41-50"))}),e._uU(55,"41-50"),e.qZA(),e.TgZ(56,"ion-button",27),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onClickTab("age","51-65"))}),e._uU(57,"51-65"),e.qZA()()(),e.TgZ(58,"ion-row")(59,"ion-col",28)(60,"ion-icon",29),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.showTop=!o.showTop)}),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(34),e.Q6J("ngClass","anyone"==t.tabData.gender?"selected":""),e.xp6(2),e.Q6J("ngClass","male"==t.tabData.gender?"selected":""),e.xp6(2),e.Q6J("ngClass","female"==t.tabData.gender?"selected":""),e.xp6(10),e.Q6J("ngClass","18-24"==t.tabData.age?"selected":""),e.xp6(2),e.Q6J("ngClass","25-32"==t.tabData.age?"selected":""),e.xp6(2),e.Q6J("ngClass","33-40"==t.tabData.age?"selected":""),e.xp6(2),e.Q6J("ngClass","41-50"==t.tabData.age?"selected":""),e.xp6(2),e.Q6J("ngClass","51-65"==t.tabData.age?"selected":"")}}function k(n,l){if(1&n&&(e.TgZ(0,"ion-select-option",45),e._uU(1),e.qZA()),2&n){const t=l.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function I(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",15)(1,"ion-card",16)(2,"ion-item")(3,"ion-label",17),e._uU(4,"Max two words what you want to do?*"),e.qZA(),e._UZ(5,"ion-input",30),e.qZA()(),e.TgZ(6,"ion-card",31)(7,"ion-item")(8,"ion-label",17),e._uU(9,"Bio*"),e.qZA(),e._UZ(10,"ion-textarea",32),e.qZA()(),e.TgZ(11,"ion-card",16)(12,"ion-item")(13,"ion-select",33),e.YNc(14,k,2,2,"ion-select-option",34),e.qZA()()(),e.TgZ(15,"ion-card",16)(16,"ion-item")(17,"ion-label",17),e._uU(18,"facebook.com/"),e.qZA(),e._UZ(19,"ion-input",35),e.qZA()(),e.TgZ(20,"ion-card",16)(21,"ion-item")(22,"ion-label",17),e._uU(23,"Instgram.com/"),e.qZA(),e._UZ(24,"ion-input",36),e.qZA()(),e.TgZ(25,"ion-card",16)(26,"ion-item")(27,"ion-label",17),e._uU(28,"YouTube.com/"),e.qZA(),e._UZ(29,"ion-input",37),e.qZA()(),e.TgZ(30,"ion-card",16)(31,"ion-item")(32,"ion-label",17),e._uU(33,"Twitter.com/"),e.qZA(),e._UZ(34,"ion-input",38),e.qZA()(),e.TgZ(35,"ion-row")(36,"ion-col",39)(37,"ion-icon",40),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.showTop=!o.showTop)}),e.qZA()(),e.TgZ(38,"ion-col",41),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.submit())}),e.TgZ(39,"ion-label",42),e._uU(40),e.qZA()(),e.TgZ(41,"ion-col",43),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.submit())}),e._UZ(42,"ion-icon",44),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(14),e.Q6J("ngForOf",t.profiles),e.xp6(26),e.Oqu(null!=t.userData&&t.userData.mobile?"Update":"Join Now")}}const M=[{path:"",component:(()=>{class n{constructor(t,i,o){this.fb=t,this.auth=i,this.route=o,this.email=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,this.showTop=!0,this.userData=localStorage.getItem("user"),this.tabData={gender:"",age:""},this.profiles=["Student","Professional","Manager","Director","CEO/Founder","Entrepreneur","Freelancer","Consultant","Artist","Writer","Teacher","Engineer","Doctor","Lawyer","Accountant","Architect","Designer","Developer/Programmer","Sales Representative","Marketing Specialist","Human Resources (HR)","Operations Manager","Analyst","Researcher","Scientist","Nurse","Pharmacist","Chef","Athlete","Fitness Instructor/Trainer","Photographer","Musician","Dancer","Actor/Actress","Media Professional","Journalist","Public Relations (PR)","Government Employee","Nonprofit Worker","Retired","Homemaker","Student-Athlete","Fashion Designer","Event Planner","Traveler/Explorer","Social Media Influencer","Blogger/Vlogger","Investor","Financial\xa0Advisor","Other"],this.userDataForm=this.fb.group({userName:["",s.kI.required],email:["",s.kI.required],mobile:["",s.kI.required],city:["",s.kI.required],aboutMe:"",bio:"",faceBookId:"",instagramId:"",youTubeId:"",twitterId:"",showMobile:!0,profiletype:["",s.kI.required]})}ngOnInit(){this.auth.getProfileInfo().subscribe(t=>{var i,o,r,c;t.success&&(this.userData=t.data,this.userData.gridfsId&&this.getProfileImage(this.userData.gridfsId),!(null===(i=this.userData)||void 0===i)&&i.gridfsId||(this.profilePhoto=null===(o=this.userData)||void 0===o?void 0:o.imageUrl),this.patchUserData(),this.tabData={gender:null===(r=this.userData)||void 0===r?void 0:r.gender,age:null===(c=this.userData)||void 0===c?void 0:c.age})},t=>{console.log("Error",t)})}patchUserData(){var t,i,o,r,c,_,p,h,m,f,b,x;this.userDataForm.patchValue({userName:null===(t=this.userData)||void 0===t?void 0:t.name,email:null===(i=this.userData)||void 0===i?void 0:i.email,mobile:null===(o=this.userData)||void 0===o?void 0:o.mobile,city:null===(r=this.userData)||void 0===r?void 0:r.city,aboutMe:null===(c=this.userData)||void 0===c?void 0:c.aboutMe,bio:null===(_=this.userData)||void 0===_?void 0:_.bio,faceBookId:null===(p=this.userData)||void 0===p?void 0:p.faceBookId,instagramId:null===(h=this.userData)||void 0===h?void 0:h.instagramId,youTubeId:null===(m=this.userData)||void 0===m?void 0:m.youTubeId,twitterId:null===(f=this.userData)||void 0===f?void 0:f.twitterId,showMobile:null===(b=this.userData)||void 0===b?void 0:b.showMobile,profiletype:null===(x=this.userData)||void 0===x?void 0:x.profiletype})}onFileSelected(t){if(t.target.files){var i=new FileReader;i.readAsDataURL(t.target.files[0]),i.onload=o=>{let r=btoa(o.target.result);this.auth.uploadImage(r).subscribe(c=>{c.success&&this.getProfileImage(c.gridfsId)})}}}getProfileImage(t){this.auth.getImage({gridfsId:t}).subscribe(i=>{i.success&&(this.profilePhoto=atob(i.data.data))})}uploadPhoto(t){const i=new FileReader;i.onload=o=>{this.profilePhoto=o.target.result,this.cropPhoto()},i.readAsDataURL(t)}cropPhoto(){const t=this.photoContainer.nativeElement,i=t.querySelector("img");if(i){const o=document.createElement("canvas"),r=o.getContext("2d");o.width=t.offsetWidth,o.height=t.offsetHeight,r.beginPath(),r.arc(o.width/2,o.height/2,o.width/2,0,2*Math.PI),r.clip(),r.drawImage(i,0,0,o.width,o.height),this.profilePhoto=o.toDataURL()}}onClickTab(t,i){this.tabData[t]=i}back(){this.userDataForm.valid&&(this.route.navigate(["tabs"]),this.auth.updateInitiation())}submit(){if(this.userDataForm.valid){let t=Object.assign(Object.assign(Object.assign({},this.userData),this.userDataForm.value),this.tabData);this.auth.login(t).subscribe(i=>{if(i.success){delete this.userData.userType,localStorage.setItem("user",JSON.stringify(this.userData)),localStorage.setItem("token",i.data);let o=localStorage.getItem("previousPath");o?this.route.navigate([o]):(this.auth.updateInitiation(),this.route.navigate(["tabs/tab1"]))}})}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.qu),e.Y36(v.u),e.Y36(d.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-user-details"]],viewQuery:function(t,i){if(1&t&&e.Gf(D,5),2&t){let o;e.iGM(o=e.CRH())&&(i.photoContainer=o.first)}},decls:8,vars:4,consts:[[2,"text-align","right"],["name","close-circle-outline",1,"svg_size",3,"click"],["style","border-bottom: none !important; width: 100%;",4,"ngIf"],[3,"formGroup"],["style","margin: 20px;",4,"ngIf"],[2,"border-bottom","none !important","width","100%"],[1,"col_center_align",2,"flex-direction","column"],[1,"profile-photo-container"],[3,"src","ngClass",4,"ngIf"],["class","upload-label",4,"ngIf"],["class","change-file-label",4,"ngIf"],[3,"src","ngClass"],[1,"upload-label"],["type","file","accept","image/*",3,"change"],[1,"change-file-label"],[2,"margin","20px"],[1,"input_selection",2,"display","grid","align-items","center"],["position","stacked"],["formControlName","userName","placeholder","Enter Name"],["formControlName","email","placeholder","Enter Email"],["formControlName","mobile","placeholder","Enter Mobile"],[2,"display","flex","align-items","center"],["formControlName","showMobile",1,"togglr_style"],["formControlName","city","placeholder","Enter City"],[1,"col_center_align"],["name","male-outline",2,"height","20px","width","20px"],[1,"sub_heading"],[3,"ngClass","click"],[1,"flex_end_align"],["name","chevron-down-outline",2,"height","40px","width","40px",3,"click"],["maxlength","25","formControlName","aboutMe"],[1,"input_selection",2,"display","grid","align-items","center","height","80px"],["maxlength","200","formControlName","bio"],["aria-label","Fruit","formControlName","profiletype","interface","popover","placeholder","Select type"],[3,"value",4,"ngFor","ngForOf"],["formControlName","faceBookId"],["formControlName","instagramId"],["formControlName","youTubeId"],["formControlName","twitterId"],["size","3",1,"flex_start_align"],["name","chevron-up-outline",1,"svg_size",3,"click"],["size","7",1,"flex_end_align",2,"cursor","pointer",3,"click"],[2,"font-size","22px !important","font-weight","700"],["size","2",1,"flex_end_align",2,"cursor","pointer",3,"click"],["name","arrow-forward-circle-outline",2,"height","54px","width","54px"],[3,"value"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-content")(1,"ion-row",0)(2,"ion-col",0)(3,"ion-icon",1),e.NdJ("click",function(){return i.back()}),e.qZA()()(),e.YNc(4,C,7,3,"ion-row",2),e.TgZ(5,"form",3),e.YNc(6,A,61,8,"div",4),e.YNc(7,I,43,2,"div",4),e.qZA()()),2&t&&(e.xp6(4),e.Q6J("ngIf",i.showTop),e.xp6(1),e.Q6J("formGroup",i.userDataForm),e.xp6(1),e.Q6J("ngIf",i.showTop),e.xp6(1),e.Q6J("ngIf",!i.showTop))},dependencies:[g.mk,g.sg,g.O5,s._Y,s.JJ,s.JL,s.nD,s.sg,s.u,a.YG,a.PM,a.wI,a.W2,a.gu,a.pK,a.Ie,a.Q$,a.Nd,a.t9,a.n0,a.yW,a.g2,a.ho,a.w,a.QI,a.j9],styles:[".input_selection[_ngcontent-%COMP%]{border-width:1px;border-style:inset;border-color:#000;border-radius:14px;height:70px;margin:20px 0;padding:10px;box-shadow:none}ion-label[_ngcontent-%COMP%]{font-size:14px!important}ion-item[_ngcontent-%COMP%]{--border-style: none}.selected[_ngcontent-%COMP%]{--background: #AA4A44;color:#fff}.profile-photo-container[_ngcontent-%COMP%]{position:relative;width:150px;height:150px;overflow:hidden}.profile-photo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%}.upload-label[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;text-align:center;width:100%;height:100%;cursor:pointer;border:2px dashed #ccc;border-radius:50%}.upload-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.change-file-label[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:150px;height:40px;cursor:pointer;background-color:#f5f5f5;border:2px dashed #ccc;border-radius:4px;margin-top:10px}.change-file-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.togglr_style[_ngcontent-%COMP%]{height:20px;--handle-background: #ededed;--background-checked: #f5cac8;--handle-background-checked: #AA4A44}"]}),n})()}];let q=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.Bz.forChild(M),d.Bz]}),n})(),y=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[g.ez,s.u5,s.UX,a.Pc,q]}),n})()}}]);